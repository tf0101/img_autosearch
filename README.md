# Twitter上の指定ユーザーの画像を自動収集自動分類する

act.bat：タスクスケジューラーなどにこのファイルを設定することで指定日時に自動処理を実行する  
概要図.png：システムの概要図  

img_auto_search_end  
├── img 画像が保存されるフォルダ  
├── auto.py ログインとかツイートの読み込みとか  
├── db.py データベース全般の処理  
├── login.py ログイン全般の処理  
├── main.py  実行ファイル  
├── model.py 分類モデルのロードとラベル判定  
├── startauto.bat 自動処理を行う時に使うbatファイル  
├── yes_no.csv 分類モデルのlossとaccデータ(分類モデルの精度確認のためのファイル)  
├── yes_no.h5 分類モデルのデータ  
└── yes_no.json 分類モデルのデータ  
  
  
  
# 環境  
Anconda3  
python:3.6.7  
Keras:2.2.4  
tensorflow:1.12.0  
  
  
# 使い方  
手順１：TwitterAPIを利用するためにキーとトークンを取得してlogin.pyに書き込む  
手順２：画像を集めるには下のコマンドを入力して、その後に表示される「Account:@～」に画像を取りたいユーザーのIDを入力
```
python main.py manual
```
```
Account:@"ユーザーID"
```
一度画像を取ったユーザーのIDと最新ツイート日時はDBに記録されるので、その後は差分ツイートに関して自動処理が可能となる  
手順3：act.batをタスクスケジューラなどに設定することで、DB内に記録されたユーザーの差分ツイートに関して自動処理が実行される(act.batのAncondaの環境名は自身の環境名にする必要がある)


